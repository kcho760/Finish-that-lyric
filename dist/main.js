!function(){"use strict";var e,t,n,r,s,o,l,c,i,a;e=class{constructor(e){this.htmlElement=e,this.htmlElement.addEventListener("click",(()=>{const e=document.querySelector(".ready-screen"),t=document.querySelector(".inner-div1");e.style.display="block",t.style.display="none"}))}},t=class{constructor(){this.getNewLyrics()}getNewLyrics(){const e="c335682791d58fcd23f5d30abbc72d34";fetch(`https://proxy-92z3.onrender.com/?url=https%3A%2F%2Fapi.musixmatch.com%2Fws%2F1.1%2Ftrack.search%3Fq_artist%3D%2BTaylor_Swift%26page_size%3D10%26s_track_rating%3Ddesc%26apikey%3D${e}`).then((e=>{if(!e.ok)throw new Error(`Failed to retrieve top tracks: ${e.status} ${e.statusText}`);return e.json()})).then((t=>{const n=t.message.body.track_list,r=Math.floor(Math.random()*n.length),s=n[r].track.track_id,o=n[r].track.artist_name,l=n[r].track.track_name;return document.getElementById("artist-name").innerHTML=o,document.getElementById("song-name").innerHTML=l,console.log(`Artist: ${o}`),console.log(`Track: ${l}`),fetch(`https://proxy-92z3.onrender.com/?url=https%3A%2F%2Fapi.musixmatch.com%2Fws%2F1.1%2Ftrack.snippet.get%3Ftrack_id%3D${s}%26apikey%3D${e}`)})).then((e=>{if(!e.ok)throw new Error("Failed to retrieve snippets");return e.json()})).then((e=>{const t=e.message.body.snippet.snippet_body.split("\n").filter((e=>!e.includes("This Lyrics is NOT for Commercial use")&&!e.endsWith("..."))),n=Math.floor(Math.random()*t.length),r=[],s=t[n].split(" "),o=["I","a","an","the","and","that","in","of","to","for","on","with","at","by","from","up","down","out","about","my","I'm"];for(let e=0;e<1;e++){let e,t;for(;t=Math.floor(Math.random()*s.length),e=s[t],o.includes(e)||!(e.length>=4););r.push({word:e,index:t}),s[t]="____"}const l=`${s.join(" ")}`;document.getElementById("lyrics").innerHTML=l;const c=[document.getElementById("button1"),document.getElementById("button2"),document.getElementById("button3"),document.getElementById("button4")],i=Math.floor(4*Math.random()),a=r.map((e=>e.word)).join(", ");c[i].textContent=a.toLowerCase(),c[i].setAttribute("data-answer","correct");const d=[];c.filter(((e,t)=>t!==i)).forEach((e=>{fetch(`https://api.datamuse.com/words?ml=${r[0].word}&max=10&min=4`).then((e=>e.json())).then((t=>{const n=t.filter((e=>!d.includes(e.word)));if(0===n.length)return void(d.length=0);const r=n[Math.floor(Math.random()*n.length)];e.textContent=r.word,e.setAttribute("data-answer","incorrect"),d.push(r.word)})).catch((e=>{console.error("Error:",e)}))}))}))}},n=class{constructor(e){this.htmlElement=e,this.available=!0,this.handleClick()}handleClick(){this.htmlElement.addEventListener("click",(()=>{if(!0===this.available){this.htmlElement.style.backgroundColor="grey",this.available=!1,this.htmlElement.disabled=!0;const e=document.querySelectorAll(".choice");let t=0;for(let n=0;n<e.length&&("incorrect"!==e[n].getAttribute("data-answer")||(e[n].style.backgroundColor="grey",e[n].disabled=!0,t++,2!==t));n++);}}))}},r=class{constructor(e){this.htmlElement=e,this.available=!0,this.htmlElement.addEventListener("click",(()=>{!0===this.available&&(this.htmlElement.style.backgroundColor="grey",this.available=!1,this.htmlElement.chance=!0,this.htmlElement.disabled=!0)}))}},s=class{constructor(e,t,n){this.htmlElement=e,this.lyrics=t,this.scores=document.querySelectorAll(".score"),this.timer=n,this.handleClick()}handleClick(){this.htmlElement.addEventListener("click",(()=>{const e="correct"===this.htmlElement.getAttribute("data-answer"),t=document.querySelector(".inner-div2"),n=document.querySelector(".inner-div3");if(e)document.querySelector("#answer-result").innerHTML="Correct!",this.scores.forEach((e=>{e.textContent=Number(e.textContent)+1})),t.style.display="none",n.style.display="block";else{let e=document.getElementById("second-chance");!0===e.getAttribute("chance")?(this.timer+=10,e.setAttribute("chance",!1),this.htmlElement.disabled=!0):(document.querySelector("#answer-result").innerHTML="Incorrect",t.style.display="none",n.style.display="block",this.timer.stop())}}))}},o=class{constructor(e,t,n){this.htmlElement=e,this.lyrics=t,this.scores=document.querySelectorAll(".score"),this.timer=n,this.handleClick()}handleClick(){this.htmlElement.addEventListener("click",(()=>{const e="correct"===this.htmlElement.getAttribute("data-answer"),t=document.querySelector(".inner-div2"),n=document.querySelector(".inner-div3");if(e)document.querySelector("#answer-result").innerHTML="Correct!",this.scores.forEach((e=>{e.textContent=Number(e.textContent)+1})),t.style.display="none",n.style.display="block";else{let e=document.getElementById("second-chance");!0===e.getAttribute("chance")?(this.timer+=10,e.setAttribute("chance",!1),this.htmlElement.disabled=!0):(document.querySelector("#answer-result").innerHTML="Incorrect",t.style.display="none",n.style.display="block",this.timer.stop())}}))}},l=class{constructor(e,t,n){this.htmlElement=e,this.lyrics=t,this.scores=document.querySelectorAll(".score"),this.timer=n,this.handleClick()}handleClick(){this.htmlElement.addEventListener("click",(()=>{const e="correct"===this.htmlElement.getAttribute("data-answer"),t=document.querySelector(".inner-div2"),n=document.querySelector(".inner-div3");if(e)document.querySelector("#answer-result").innerHTML="Correct!",this.scores.forEach((e=>{e.textContent=Number(e.textContent)+1})),t.style.display="none",n.style.display="block";else{let e=document.getElementById("second-chance");!0===e.getAttribute("chance")?(this.timer+=10,e.setAttribute("chance",!1),this.htmlElement.disabled=!0):(document.querySelector("#answer-result").innerHTML="Incorrect",t.style.display="none",n.style.display="block",this.timer.stop())}}))}},c=class{constructor(e,t,n){this.htmlElement=e,this.lyrics=t,this.scores=document.querySelectorAll(".score"),this.timer=n,this.handleClick()}handleClick(){this.htmlElement.addEventListener("click",(()=>{const e="correct"===this.htmlElement.getAttribute("data-answer"),t=document.querySelector(".inner-div2"),n=document.querySelector(".inner-div3");if(e)document.querySelector("#answer-result").innerHTML="Correct!",this.scores.forEach((e=>{e.textContent=Number(e.textContent)+1})),t.style.display="none",n.style.display="block";else{let e=document.getElementById("second-chance");!0===e.getAttribute("chance")?(this.timer+=10,e.setAttribute("chance",!1),this.htmlElement.disabled=!0):(document.querySelector("#answer-result").innerHTML="Incorrect",t.style.display="none",n.style.display="block",this.timer.stop())}}))}},i=class{constructor(e){this.htmlElement=e}},a=class{constructor(e,t){this.htmlelement=t,this.initialTime=e,this.time=e,this.intervalId=null,setTimeout((()=>this.printTime()),0)}printTime(){const e=this.time;this.htmlelement.innerHTML=e}start(){this.stop(),this.intervalId=setInterval((()=>{if(this.time--,this.printTime(),0===this.time)if(this.htmlelement===document.getElementById("ready-timer")){this.stop();const e=document.querySelector(".ready-screen"),t=document.querySelector(".inner-div2");e.style.display="none",t.style.display="block"}else this.stop(),this.htmlelement.innerHTML="Time up!",document.querySelector("#answer-result").innerHTML="Time Out!",setTimeout((()=>{const e=document.querySelector(".inner-div2"),t=document.querySelector(".inner-div3");e.style.display="none",t.style.display="block"}),500)}),1e3)}stop(){clearInterval(this.intervalId),this.intervalId=null}},document.addEventListener("DOMContentLoaded",(()=>{const d=document.getElementById("play-button"),m=document.querySelectorAll(".score"),h=document.querySelectorAll(".questionCounter");let u=document.getElementById("game-timer");u=new a(16,u),u.start();let y=new t;const E=document.getElementById("fifty-fifty");new n(E);const p=document.getElementById("second-chance");new r(p);const b=document.getElementById("button1");new s(b,y,u);const g=document.getElementById("button2");new o(g,y,u);const k=document.getElementById("button3");new l(k,y,u);const w=document.getElementById("button4");new c(w,y,u);const f=document.getElementById("next-question");new i(f);let C=document.getElementById("ready-timer");m.forEach((e=>{e.textContent=0})),h.forEach((e=>{e.textContent=0})),new e(d),d.addEventListener("click",(()=>{C=new a(5,C),C.start(),h.forEach((e=>{e.textContent=parseInt(e.textContent)+1}))})),f.addEventListener("click",(async()=>{const e=document.querySelector(".questionCounter");if("3"!==e.textContent){const e=document.querySelector(".ready-screen"),t=document.querySelector(".inner-div3"),n=document.querySelectorAll(".choice");h.forEach((e=>{e.textContent=parseInt(e.textContent)+1})),await y.getNewLyrics(),u.time=15,C.time=6,C.start(),n.forEach((e=>{e.setAttribute("data-answer","incorrect"),e.style.backgroundColor="white",e.disabled=!1})),setTimeout((()=>{e.style.display="block",t.style.display="none"}),1e3),u.start()}else{const t=document.querySelector(".final-score"),n=document.getElementById("score");t.textContent=`${n.textContent} / ${e.textContent}`;const r=document.querySelector(".inner-div3"),s=document.querySelector(".inner-div4");r.style.display="none",s.style.display="block"}}))}))}();
//# sourceMappingURL=main.js.map